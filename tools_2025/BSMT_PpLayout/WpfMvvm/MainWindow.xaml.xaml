<Window x:Class="BSMT_PpLayout.MainWindow"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:BSMT_PpLayout"
             xmlns:System="clr-namespace:System;assembly=mscorlib"
             mc:Ignorable="d" Topmost="True" Height="650" Width="410" Title="象璟地库辅助智排软件 v1.01" Closing="Window_Closing"  IsEnabled="True"  
    >
    <Window.Resources>
        <Style TargetType="ListBoxItem">
            <!--使用设置Style设置DataTemplate-->
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate >
                        <StackPanel Orientation="Horizontal">
                            <CheckBox IsChecked="False" IsEnabled="False"/>
                            <TextBlock x:Name="textBlock10" Text="{Binding .}" Foreground="Gray"></TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <!--Trigger-->
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Trigger.Setters>
                        <Setter Property="ContentTemplate">
                            <Setter.Value>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox IsChecked="True" IsEnabled="False"/>
                                        <TextBlock x:Name="textBlock10"  Text="{Binding .}" Foreground="Black"></TextBlock>
                                    </StackPanel>
                                </DataTemplate>
                            </Setter.Value>
                        </Setter>
                    </Trigger.Setters>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="400*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <GroupBox x:Name="groupBox01" Header="方案列表*" Grid.Row="0" Margin="2" >
            <StackPanel >
                <ListBox x:Name="listBox1" Grid.ColumnSpan="3" SelectionMode="Multiple" Margin="2" ItemsSource="{x:Static local:GlobalData.basementWallOutlineNames}" SelectionChanged="listBox1_SelectionChanged" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="2">
                    <Button x:Name="updateDesignList" Width="20"  Click="updateDesignList_Click"  Margin="2" VerticalAlignment="Center">
                        <TextBlock Text="R" />
                    </Button>
                    <Button x:Name="button11" FontWeight="Bold" Foreground="Red" Width="20"  Click="button1_Click_1" Margin="2" VerticalAlignment="Center"  ToolTip="点选类型为-地库外墙范围-的详图填充区域，添加方案。">
                        <TextBlock Text="＋" />
                    </Button>
                    <Button x:Name="button12" FontWeight="Bold" Foreground="Red" FontSize="12" Margin="2" Width="20" VerticalAlignment="Center" Click="Button12_Click"  ToolTip="从方案列表中删除勾选的方案。">
                        <TextBlock Text="-" />
                    </Button>
                </StackPanel>
                <StackPanel Margin="2" HorizontalAlignment="Left" Orientation="Horizontal">
                    <Button x:Name="button25" Content="显示" Width="{Binding Path=Width, ElementName=button8}" Margin="2" Click="Button25_Click"  VerticalAlignment="Top" ToolTip="将选中的方案显示在当前视图中心，用于快速定位到目标方案所在位置。" />
                    <!--<Button x:Name="button16" Content="兜圈" Width="{Binding Path=Width, ElementName=button}" Margin="2" FontSize="12" Click="Button16_Click"  HorizontalAlignment="Left" ToolTip="沿着当前选择区域的边界线，进行垂直式排停车位。"/>-->
                    <!--<Button x:Name="button15" IsEnabled="False" Content="平行边" Width="{Binding Path=Width, ElementName=button8}" Margin="2" FontSize="12" Click="Button8_Click" HorizontalAlignment="Left" ToolTip="指定当前停车子区域的通车道方向。"/>-->
                    <Button x:Name="button13" Content="清空" Width="{Binding Path=Width, ElementName=button8}" Margin="2" VerticalAlignment="Center" Click="Button13_Click"  ToolTip="删除方案内的所有停车位"/>
                    <Button x:Name="SubAreaLaneGeneration" Content="局部寻路"  IsEnabled="True" Width="{Binding Path=Width, ElementName=button8}"   Margin="2" Click="SubAreaLaneGeneration_Click"  HorizontalAlignment="Left" Foreground="Black" ToolTip="指定一点，自动寻找被道路包围的区域，基于水平方向进行车道优化排布。" />
                    <Button x:Name="RoadGenerate" Content="全局寻路" Width="{Binding Path=Width, ElementName=button8}" Margin="2" Click="RoadGenerate_Click"  HorizontalAlignment="Left" ToolTip="底层逻辑为，使用塔楼生成基准线，进行停车区域分割，对比南北6种停车方式，取最优"/>
                    <Button x:Name="button" Content="刷新" Width="50" Margin="2" Click="button_Click" VerticalAlignment="Top" ToolTip="基于当前方案设计条件，开启地库强排计算。"/>
                </StackPanel>
                <StackPanel  Margin="2" HorizontalAlignment="Left" Orientation="Horizontal">
                    <Label Content="插车系数" />
                    <Label Content="北侧"/>
                    <TextBox x:Name="NorthVehicleInsertionCoefficient" Text="0.4" VerticalAlignment="Center" Width="30" HorizontalContentAlignment="Right"/>
                    <Label Content="南侧"/>
                    <TextBox  x:Name="SorthVehicleInsertionCoefficient" Text="0.8" VerticalAlignment="Center" Width="30" HorizontalContentAlignment="Right"/>
                    <Label Content="左侧"/>
                    <TextBox  x:Name="LeftVehicleInsertionCoefficient" Text="0.0" VerticalAlignment="Center" Width="30" HorizontalContentAlignment="Right"/>
                    <Label Content="右侧"/>
                    <TextBox  x:Name="RightVehicleInsertionCoefficient" Text="0.0" VerticalAlignment="Center" Width="30" HorizontalContentAlignment="Right"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>
        <!--<GroupBox Header="生成*" Foreground="Gray"  Grid.Row="1" Margin="2">
        </GroupBox>-->
        <TabControl x:Name="tabControl"  Grid.Row="1" >
            <TabItem x:Name="TabItem1" Header="基础功能" Height="21" VerticalAlignment="Bottom">
                <ScrollViewer>
                    <Grid x:Name="myGrid" Background="White" Margin="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <GroupBox Header="设计工具" Grid.Row="0" >
                            <Grid Margin="0,5,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">

                                    <Button x:Name="button18" Content="多点选车" Width="{Binding Path=Width, ElementName=button8}"  HorizontalAlignment="Left"  Margin="2" Click="Button18_Click"  ToolTip="两点划线，与线段相交的停车位图元会被选中。"/>
                                    <Button x:Name="button14" Content="多点选柱" Width="{Binding Path=Width, ElementName=button8}"  HorizontalAlignment="Left"   Margin="2" Click="Button14_Click" ToolTip="框选出落在停车位间的柱子。"/>

                                    <Button x:Name="button1" Content="点柱子"  Width="{Binding Path=Width, ElementName=button8}" HorizontalAlignment="Left"  Margin="2" Click="Button1_Click" Foreground="Black" ToolTip="根据设计要求，可选择大or小柱网。大柱网情况下，y方向柱距默认计算方式为（2*b-w）/4；小柱网情况下，可手动在参数设定柱后退车头距离。"/>
                                    <StackPanel Margin="0,5" Orientation="Horizontal">
                                        <RadioButton  x:Name="bigColumn" VerticalAlignment="Center" Foreground="Gray" >大</RadioButton>
                                        <RadioButton  x:Name="smallColumn" VerticalAlignment="Center" Margin="14,0" Foreground="Gray" IsChecked="True">小</RadioButton>
                                    </StackPanel>
                                </StackPanel>
                                <GridSplitter Grid.Column="1" Width="3" Margin="5,0"/>
                                <StackPanel  Grid.Column="2" Grid.Row="0" >
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,2">
                                        <Button x:Name="button8" Content="回车查询" Width="52" Margin="2"  Click="Button10_Click" HorizontalAlignment="Left"></Button>
                                        <Button x:Name="ExtractCad" Content="提取Cad" Margin="2" Click="ExtractCad_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                        <Button x:Name="filledRegionOffest" Content="偏移"  Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="filledRegionOffest_Click"    HorizontalAlignment="Left" Foreground="Black" IsEnabled="True" ToolTip="正值向外偏移，负值向内偏移。"/>
                                        <TextBox x:Name="offsetDis" TextWrapping="Wrap" Text="{Binding Path=fROffsetDis,Source={x:Static local:GlobalData.Instance}}"   HorizontalContentAlignment="Right" Margin="2"   Width="50" ToolTip="设置透明度具体数值" />
                                        <TextBlock>
                                            (mm)
                                        </TextBlock>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left"  Margin="0,2">
                                        <Button x:Name="DivideStorageRoom" Content="房间划分" Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="DivideStorageRoom_Click"  HorizontalAlignment="Left" Foreground="Black" ToolTip="基于当前轴网，进行地库尺寸线标注。"/>
                                        <Button x:Name="CheckCollisions" Content="碰撞检查" Margin="2" Click="CheckCollisions_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                        <Button x:Name="button17" Content="两点阵列" Width="{Binding Path=Width, ElementName=button8}" Margin="2" FontSize="12" Click="Button17_Click"  HorizontalAlignment="Left" ToolTip="请使用逆时针旋转方向"/>
                                        <CheckBox x:Name="wheMechanicalPs" Content="机械" VerticalAlignment="Center" Margin="2"  />
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left"  Margin="0,2" ToolTip="绘制具有厚度地库外墙填充区域">
                                        <Button Content="弧线阵列"  Margin="2" Click="ArcArray_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                        <Button x:Name="adjustStartPoint" Content="调整起点" Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="adjustStartPoint_Click"  ToolTip="如果第一次未切换起点，请点击第二次。"/>
                                        <Button x:Name="LineCheck" Content="检查线头" Margin="2" Click="LineCheck_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                        <TextBox x:Name="lineCheckDis" TextWrapping="Wrap" Text="{Binding Path=lineCheckDis,Source={x:Static local:GlobalData.Instance}}"   HorizontalContentAlignment="Right" Margin="2"   Width="50" ToolTip="设置透明度具体数值" />
                                        <TextBlock>
                                            (mm)
                                        </TextBlock>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                        <GroupBox Header="出图工具"  Grid.Row="1" >
                            <StackPanel  Margin="0,5,0,0">
                                <StackPanel Orientation="Horizontal">
                                    <Button x:Name="button20" Content="尺寸标注"  Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="Button20_Click"  HorizontalAlignment="Left" Foreground="Black" ToolTip="基于当前轴网，进行地库尺寸线标注。"/>
                                    <Button x:Name="AddGrid" Content="轴网标注"  Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="AddGrid_Click"  HorizontalAlignment="Left" Foreground="Black" ToolTip="基于当前轴网，进行地库尺寸线标注。"/>
                                    <Button x:Name="button19" Content="出图倒角" Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="Button19_Click"  HorizontalAlignment="Left" Foreground="Black"/>
                                    <Button x:Name="button21" Content="重置倒角" Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="Button21_Click"  HorizontalAlignment="Left" Foreground="Black"/>
                                    <Button x:Name="AddBsmtWallLines" Content="绘制外墙" Width="{Binding Path=Width, ElementName=button8}"  Margin="2" Click="AddBsmtWallLines_Click" HorizontalAlignment="Left"  />
                                    <Button x:Name="BrushLayer" Content="刷图层" Margin="2" Click="BrushLayer_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <Button x:Name="AddSequenceNum" Content="添加序号" Margin="2" Click="AddSequenceNum_Click"    HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                                    <CheckBox x:Name="AddCircle" Content="加圈" VerticalAlignment="Center" Margin="2" IsChecked="True" />
                                </StackPanel>

                            </StackPanel>

                        </GroupBox>
                        <GroupBox Header="基础参数（mm）" Grid.Row="2">
                            <StackPanel>
                                <WrapPanel HorizontalAlignment="Right">
                                    <Label Content="省份" />
                                    <ComboBox x:Name="provinces" Grid.Row="0" SelectedItem="" SelectionChanged="provinces_SelectionChanged"/>
                                    <Label Content="城市" />
                                    <ComboBox x:Name="cities" Grid.Row="0" SelectedItem="" SelectionChanged="cities_SelectionChanged"/>
                                </WrapPanel>
                                <Grid Height="130">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left" >
                                        <Label  Content="垂直式-停车" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="1,0,0,0" >
                                        <CheckBox x:Name="autoGeneral_CheckBox" IsEnabled="False" VerticalAlignment="Center" IsChecked="{Binding Path=IsItOrdinary,Source={x:Static local:GlobalData.Instance}}"/>
                                        <Label Content="普通" HorizontalContentAlignment="Center" FontSize="12" HorizontalAlignment="Right"  />
                                        <TextBox x:Name="pSWidth" TextWrapping="Wrap" Text="{Binding Path=pSWidth,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged" />
                                        <Label  Content="(宽) x" HorizontalContentAlignment="Center" FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                        <!--<CheckBox Margin="0,5,0,0" IsChecked="True"/>-->
                                        <TextBox x:Name="pSHeight"  Text="{Binding Path=pSHeight,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" Margin="2" Width="40" TextChanged="_TextChanged"/>
                                        <Label x:Name="label01" Content="(长)" HorizontalContentAlignment="Center" FontSize="10" HorizontalAlignment="Right"  />
                                    </StackPanel>

                                    <!--
                                    <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" >
                                        <Label Content="大" HorizontalContentAlignment="Center" FontSize="12" HorizontalAlignment="Right"  />
                                        <CheckBox Margin="0,5,0,0" IsChecked="True"/>
                                        <TextBox  x:Name="bigPSHeight" TextWrapping="Wrap" Text="5700" HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged"/>
                                        <Label  Content="(长) x" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                        <TextBox x:Name="bigPSWidth" TextWrapping="Wrap" Text="2700"  HorizontalContentAlignment="Right" Margin="2"   Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged" />
                                        <Label  Content="(宽)" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                    </StackPanel>
                                    -->

                                    <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" >
                                        <CheckBox x:Name="autoMini_CheckBox" VerticalAlignment="Center" IsChecked="{Binding Path=IsItMiNi,Source={x:Static local:GlobalData.Instance}}"/>
                                        <Label Content="微型" HorizontalContentAlignment="Center" FontSize="12" HorizontalAlignment="Right"  />
                                        <TextBox x:Name="miniPSWidth" TextWrapping="Wrap"  Text="{Binding Path=miniPSWidth,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2"   Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged" />
                                        <Label  Content="(宽) x" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}"  HorizontalAlignment="Right"  />
                                        <!--<CheckBox Margin="0,5,0,0" IsChecked="True"/>-->
                                        <TextBox  x:Name="miniPSHeight" TextWrapping="Wrap"  Text="{Binding Path=miniPSHeight,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged"/>
                                        <Label  Content="(长)" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                    </StackPanel>
                                    <StackPanel Grid.Row="3" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left" >
                                        <Label  Content="平行式-停车" Foreground="Red" HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left"  ToolTip="停车位纵向与车道中心线垂直。" />
                                    </StackPanel>
                                    <StackPanel Grid.Row="4" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" >
                                        <CheckBox x:Name="autoGeneralHor_CheckBox" VerticalAlignment="Center" IsChecked="{Binding Path=IsItHor,Source={x:Static local:GlobalData.Instance}}" />
                                        <Label Content="普通" HorizontalContentAlignment="Center" FontSize="12" HorizontalAlignment="Right"  />
                                        <TextBox x:Name="pSWidth_Hor" TextWrapping="Wrap" Text="{Binding Path=pSWidth_Hor,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2"   Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged" />
                                        <Label  Content="(宽) x" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                        <TextBox x:Name="pSHeight_Hor" TextWrapping="Wrap" Text="{Binding Path=pSHeight_Hor,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged"/>
                                        <Label  Content="(长)" HorizontalContentAlignment="Center"  FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                    </StackPanel>
                                    <GridSplitter Grid.Row="1" Grid.RowSpan="4" Grid.Column="1" Width="3"/>
                                    <StackPanel Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left" >
                                        <Label  Content=" 通车道"  Foreground="Red" HorizontalContentAlignment="Center" FontSize="12" HorizontalAlignment="Left"  />
                                        <Label  Content="      (宽度)" HorizontalContentAlignment="Center" Margin="0,2,0,0" FontSize="{Binding Path=FontSize, ElementName=label01}" HorizontalAlignment="Right"  />
                                    </StackPanel>
                                    <StackPanel  Grid.Row="1" Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Label  Content="       主   " HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Left"/>
                                        <TextBox x:Name="Wd_main" TextWrapping="Wrap" Text="{Binding Path=Wd_pri,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged"/>
                                    </StackPanel>
                                    <StackPanel  Grid.Row="2" Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Label Content="       次   " HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Left" />
                                        <TextBox x:Name="Wd" TextWrapping="Wrap" Text="{Binding Path=Wd_sec,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged"/>
                                    </StackPanel>
                                    <StackPanel  Grid.Row="3" Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Label Content="自定义   " HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Left"/>
                                        <TextBox x:Name="Wd_CustomWidth" TextWrapping="Wrap" Text="{Binding Path=Wd_CustomWidth,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="{Binding Path=Width, ElementName=pSHeight}" TextChanged="_TextChanged" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                        <!--<GroupBox x:Name="groupBox02" Header="强排结果" FontSize="13.333" Grid.Row="4" Margin="2" Foreground="Gray" >
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                             
                                <TextBox IsReadOnly="True"  TextWrapping="Wrap"  VerticalScrollBarVisibility="Auto" Height="150" Grid.Row="1" Text="{Binding strCalculationResult,Source={x:Static local:GlobalData.Instance}}" ></TextBox>
                            </Grid>
                        </GroupBox>-->
                    </Grid>
                </ScrollViewer>
            </TabItem>
            <TabItem x:Name="TabItem2" Header="参数设置">
                <ScrollViewer>
                    <StackPanel  >
                        <GroupBox x:Name="_groupBox1" Header="其它尺寸（mm）" FontSize="13.333" Grid.Row="2" Margin="2" >
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label Content="柱宽" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="columnWidth" TextWrapping="Wrap"  Text="{Binding Path=ColumnWidth,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="45" TextChanged="_TextChanged"/>
                                    <Label Content="+" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="columnBurfferDistance" TextWrapping="Wrap"  Text="{Binding Path=ColumnBurfferDistance,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" Margin="2" Width="35" TextChanged="_TextChanged"/>
                                </StackPanel>
                                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="柱距=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <Label Content="柱宽+车宽x车位数" HorizontalContentAlignment="Left"  FontSize="12" HorizontalAlignment="Right"/>
                                    <!--<Label x:Name="label_NumsPP" Content="柱间停车位数量（n）" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>-->
                                    <TextBox x:Name="NumsPP" TextWrapping="Wrap"  Text="{Binding Path=NumOfIntervalPP,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="20" TextChanged="_TextChanged"/>
                                    <!--<Label x:Name="label_columnBurfferDistance" Content="柱子（粉刷余量）" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>-->
                                <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="ColumnDistance" TextWrapping="Wrap" Text="0"  HorizontalContentAlignment="Right" IsReadOnly="True" Margin="2" Width="45" />
                                </StackPanel>
                                <StackPanel  Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label x:Name="label_basementWall_offset_distance" Content="地库外墙厚度" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="basementWall_offset_distance" TextWrapping="Wrap"  Text="{Binding Path=bsmtWallThickness,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" Margin="2" Width="45" TextChanged="_TextChanged"/>
                                </StackPanel>
                                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="柱后退车头距离" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="ColumnBackwardDistance" TextWrapping="Wrap"  Text="{Binding Path=ColumnBackwardDistance,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="2" Width="45" />
                                </StackPanel>
                                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="应配车位数" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="NumberCarsAllocated" TextWrapping="Wrap"  Text="{Binding Path=numberCarsAllocated,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="2" Width="45" />
                                </StackPanel>
                                <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="折损车位比例（建议10%)" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <Label  Content="=" Foreground="Red"  HorizontalContentAlignment="Left" FontSize="12" HorizontalAlignment="Left" ToolTip="停车位纵向与车道中心线平行。" />
                                    <TextBox x:Name="PerOfDamagedPs" TextWrapping="Wrap"  Text="{Binding Path=perOfDamagedPs,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="32" />
                                    <Label  Content="%" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                </StackPanel>
                                <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="倒角半径" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="ChamferRadius" TextWrapping="Wrap"  Text="{Binding Path=ChamferRadius,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="45" />
                                    <Label  Content="尽端定位" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="EndCirclePosition" TextWrapping="Wrap"  Text="{Binding Path=EndCirclePosition,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="45" />
                                    <Label  Content="尽端半径" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="EndCircleRadius" TextWrapping="Wrap"  Text="{Binding Path=EndCircleRadius,Source={x:Static local:GlobalData.Instance}}"  HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="45" />
                                </StackPanel>
                                <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right" >
                                    <Label  Content="序号半径" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="NumCircleNum" TextWrapping="Wrap"  Text="{Binding Path=NumCircleRadiu,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="45" />
                                    <Label  Content="文字大小" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    <TextBox x:Name="NumTextSize" TextWrapping="Wrap"  Text="{Binding Path=NumTextSize,Source={x:Static local:GlobalData.Instance}}" HorizontalContentAlignment="Right" IsReadOnly="False" Margin="0,3" Width="45" />
                                </StackPanel>
                                <!--<StackPanel >-->
                                <!--<StackPanel   Orientation="Horizontal" HorizontalAlignment="Right">
                                  </StackPanel>
                                    <StackPanel  Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Label  Content="柱距（= a * n + c + d）" HorizontalContentAlignment="Center"  FontSize="12" HorizontalAlignment="Right"/>
                                    </StackPanel>-->
                                <!--<StackPanel  Orientation="Horizontal" HorizontalAlignment="Right"/>-->
                                <!--</StackPanel>-->

                            </Grid>
                        </GroupBox>
                        <GroupBox Header="储藏间划分数据"  Margin="2">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Label Content="走道宽度" Grid.Row="0" Grid.Column="0"/>
                                <Label Content="最大面积" Grid.Row="0" Grid.Column="3"/>
                                <Label Content="最小进深"  Grid.Row="1"  Grid.Column="0"/>
                                <Label Content="最大进深"  Grid.Row="2"  Grid.Column="0"/>
                                <Label Content="最小开间"  Grid.Row="1" Grid.Column="3"/>
                                <Label Content="最大开间"  Grid.Row="2" Grid.Column="3"/>

                                <TextBox x:Name="walkwayWidth" Grid.Row="0" Grid.Column="1" Text="{Binding Path=WalkwayWidth,Source={x:Static local:GlobalData.Instance}}" TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="minArea" Grid.Row="0" Grid.Column="4" Text="{Binding Path=MinArea,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="minDepth" Grid.Row="1" Grid.Column="1" Text="{Binding Path=MinDepth,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="maxDepth" Grid.Row="2" Grid.Column="1" Text="{Binding Path=MaxDepth,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="minWidth" Grid.Row="1" Grid.Column="4" Text="{Binding Path=MinWidth,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="maxWidth" Grid.Row="2" Grid.Column="4" Text="{Binding Path=MaxWidth,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />

                                <Label Content="mm" Grid.Row="0" Grid.Column="2"/>
                                <Label Content="m²" Grid.Row="0" Grid.Column="5"/>
                                <Label Content="mm" Grid.Row="1" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="2" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="1" Grid.Column="5"/>
                                <Label Content="mm" Grid.Row="2" Grid.Column="5"/>

                            </Grid>

                        </GroupBox>
                        <GroupBox Header="坡道数据计算"  Margin="2">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Label Content="层高" Grid.Row="0" Grid.Column="0"/>
                                <Label Content="缓坡坡度"  Grid.Row="1"  Grid.Column="0"/>
                                <Label Content="缓坡坡长"  Grid.Row="2"  Grid.Column="0"/>
                                <Label Content="缓坡高度"  Grid.Row="3" Grid.Column="0"/>
                                <Label Content="坡度"  Grid.Row="4" Grid.Column="0"/>
                                <Label Content="中间段长度"  Grid.Row="5" Grid.Column="0"/>
                                <Label Content="总长"  Grid.Row="6" Grid.Column="0"/>
                                <Button x:Name="RampGenerate"  Content="多选坡道中心线" Grid.ColumnSpan="3" Width="120" Height="25" Grid.Row="7" Click="RampGenerate_Click"/>
                                <Label Content="当前设计长度"  Grid.Row="5" Grid.Column="3"/>
                                <Label Content="还需长度"  Grid.Row="6" Grid.Column="3"/>
                                <Label Content="可停车最低净高"  Grid.Row="0" Grid.Column="3"/>
                                <Label Content="底部不可停车长度"  Grid.Row="1" Grid.Column="3"/>

                                <TextBox x:Name="rampFloorHeight" Grid.Row="0" Grid.Column="1" Text="{Binding StoreyHeight,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="GentleSlope" Grid.Row="1" Grid.Column="1" Text="{Binding GentleSlopeDeg,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <TextBox x:Name="SlowSlopeLength" Grid.Row="2" Grid.Column="1"  Text="{Binding GentleSlopeLength,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <Label  Grid.Row="3" Grid.Column="1" Content="{Binding GentleSlopeHeight,Source={x:Static local:GlobalData.Instance}}" HorizontalAlignment="Right"  VerticalAlignment="Center" Background="#FFC8C8C8"/>
                                <TextBox x:Name="rampSlope" Grid.Row="4" Grid.Column="1" Text="{Binding RampSlopeDeg,Source={x:Static local:GlobalData.Instance}}" TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <Label  Grid.Row="5" Grid.Column="1" Content="{Binding MiddleRampLength,Source={x:Static local:GlobalData.Instance}}" HorizontalAlignment="Right" VerticalAlignment="Center" Background="#FFC8C8C8"/>
                                <Label  Grid.Row="6" Grid.Column="1" Content="{Binding TotalRampLength,Source={x:Static local:GlobalData.Instance}}"  HorizontalAlignment="Right"  VerticalAlignment="Center" Background="#FFC8C8C8"/>
                                <Label   Grid.Row="5" Grid.Column="4" Content="{Binding CurrentLength,Source={x:Static local:GlobalData.Instance}}"  HorizontalAlignment="Right" VerticalAlignment="Center" Background="#FFC8C8C8"/>
                                <Label  Grid.Row="6" Grid.Column="4" Content="{Binding NeedLength,Source={x:Static local:GlobalData.Instance}}"  HorizontalAlignment="Right"  VerticalAlignment="Center" Background="#FFC8C8C8"/>

                                <TextBox x:Name="PpHeightRequire" Grid.Row="0" Grid.Column="4" Text="{Binding MinHeightParking,Source={x:Static local:GlobalData.Instance}}" TextAlignment="Right" VerticalAlignment="Center" TextChanged="TextBox_TextChanged" />
                                <Label  Grid.Row="1" Grid.Column="4" Content="{Binding NoStopLengthBottomOfRamp,Source={x:Static local:GlobalData.Instance}}"  HorizontalAlignment="Right"  VerticalAlignment="Center" Background="#FFC8C8C8"/>

                                <Label Content="mm" Grid.Row="0" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="2" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="3" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="5" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="6" Grid.Column="2"/>
                                <Label Content="mm" Grid.Row="5" Grid.Column="5"/>
                                <Label Content="mm" Grid.Row="6" Grid.Column="5"/>
                                <Label Content="mm" Grid.Row="0" Grid.Column="5"/>
                                <Label Content="mm" Grid.Row="1" Grid.Column="5"/>

                            </Grid>

                        </GroupBox>
                        <GroupBox x:Name="_groupBox2" Header="回车要求"  FontSize="13.333" Margin="2" >
                            <Grid Background="White">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <StackPanel Margin="0,5" Grid.Row="0">
                                    <TextBlock Text="停车场（库）内尽端式通道长度大于 A 米时，应满足回车条件；" TextWrapping="Wrap" Margin="5"></TextBlock>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="5">
                                        <TextBlock x:Name="TextBox_Length_nearEnd" Text="A ="></TextBlock>
                                        <TextBox x:Name="returnLengthEnd" Width="50" Margin="5,0"  Text="{Binding Path=endReturnLength,Source={x:Static local:GlobalData.Instance}}"  TextAlignment="Right"></TextBox>
                                        <TextBlock Text="m"/>
                                    </StackPanel>
                                </StackPanel>
                                <Rectangle Grid.Row="1"  Stroke="Red" Height="1"></Rectangle>
                                <StackPanel Grid.Row="2">
                                    <TextBlock Text="大型车库两侧或单侧停车的通道长度大于 B 米时，应在通道垂直方向设置联通道。" TextWrapping="Wrap" Margin="5"></TextBlock>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="5">
                                        <TextBlock Text="B ="></TextBlock>
                                        <TextBox x:Name="loopReturnLength" Width="50" Margin="5,0"  Text="{Binding Path=loopReturnLength,Source={x:Static local:GlobalData.Instance}}" TextAlignment="Right"></TextBox>
                                        <TextBlock Text="m"/>
                                    </StackPanel>
                                </StackPanel>
                                <Rectangle Grid.Row="3"  Stroke="Red" Height="1"/>
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem x:Name="TabItem3" Header="指标计算" IsEnabled="True">
                <ScrollViewer>
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="5" HorizontalAlignment="Right">
                            <CheckBox Margin="2"  x:Name="judeData" Content="指标对比"  VerticalAlignment="Center" HorizontalAlignment="Center" HorizontalContentAlignment="Center" FlowDirection="RightToLeft" />
                            <TextBlock x:Name="textBlock" TextWrapping="Wrap" Text="目标毛车地比（㎡/车）" VerticalAlignment="Center" Margin="2" Foreground="Black" />
                            <TextBox x:Name="tarParkingEfficiency" TextWrapping="Wrap" Text="40" Margin="2" Width="30" HorizontalContentAlignment="Right"/>
                            <Button x:Name="button6" Content="指标刷新" Margin="2" Click="Button6_Click" HorizontalAlignment="Right" Width="{Binding Path=Width, ElementName=button8}" />
                            <CheckBox x:Name="wheGenerateTable" Margin="2" Content="绘制表格" VerticalAlignment="Center" HorizontalAlignment="Center" HorizontalContentAlignment="Center" FlowDirection="RightToLeft"  />
                        </StackPanel>
                        <GroupBox Header="当前设计条件数据" FontSize="14" Margin="5,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition x:Name="rowTemp" Height="Auto"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp}"/>
                                </Grid.RowDefinitions>
                                <TextBlock  VerticalAlignment="Bottom"  Margin="2,8,2,2" Text="L - 地下室外墙周长之和-m" FontSize="12" Grid.Row="0" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom"  Margin="2,8,2,2" Text="S - 地下室建筑面积（不含夹层）-㎡" FontSize="12" Grid.Row="1" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom"  Margin="2,8,2,2" Text="K2 - 地下室周长系数-m/㎡" FontSize="12" Grid.Row="2" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom"  Margin="2,8,2,2" Text="S0 - 塔楼投影面积之和-㎡" FontSize="12" Grid.Row="3" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S1 - 机动车库面积-㎡"  FontSize="12"  Grid.Row="4"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S2 - 主楼非停车区域建筑面积-㎡" FontSize="12"  Grid.Row="5"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S3 - 变电房、水泵房、换热站等较大设备用房-㎡" FontSize="12"  TextWrapping="Wrap"  Grid.Row="6"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S4 - 非机动车库（不含夹层）-㎡" FontSize="12"  Grid.Row="7"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S5 - 非机动车库（夹层）-㎡" FontSize="12"  Grid.Row="8"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S6 - 工具间-㎡" FontSize="12"  Grid.Row="9"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S7 - 住宅公共变电所-㎡" FontSize="12"  Grid.Row="10"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S8 - 储藏间-㎡" FontSize="12"  Grid.Row="11"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S9 - 人防分区-㎡" FontSize="12"  Grid.Row="12"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S10 - 核心筒-㎡" FontSize="12"  Grid.Row="13"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S11 - 采光井-㎡" FontSize="12"  Grid.Row="14"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S12 - 下沉庭院-㎡" FontSize="12"  Grid.Row="15"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="S13 - 单元门厅-㎡" FontSize="12"  Grid.Row="16"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="Pe - 设备用房占比" FontSize="12" TextWrapping="Wrap"  Grid.Row="17"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="N - 平层停车数量（含机械车位数）" FontSize="12" TextWrapping="Wrap"  Grid.Row="18"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex}" Text="N - 机械车位数量" FontSize="12" TextWrapping="Wrap"  Grid.Row="19"  Grid.Column="0"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="0"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=L,Source={x:Static local:GlobalData.Instance}}" />
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="1"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S,Source={x:Static local:GlobalData.Instance}}" />
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="2"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=K2,Source={x:Static local:GlobalData.Instance}}" />
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="3"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S0,Source={x:Static local:GlobalData.Instance}}" />
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="4"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S1,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="5"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S2,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="6"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S3,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="7"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S4,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="8"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S5,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="9"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S6,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="10"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S7,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="11"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S8,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="12"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S9,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="13"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S10,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="14"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S11,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="15"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S12,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="16"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=S13,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="17"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=Pe,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="18"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=N,Source={x:Static local:GlobalData.Instance}}" x:Name="NumberParkingOnLevel" Foreground="Red"  ToolTip="红色表示图面车位数高于应配车位的折损比例，蓝色表示图面车位数低于应配车位数。"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2" Grid.Row="19"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=MeN,Source={x:Static local:GlobalData.Instance}}" />
                                <Rectangle Grid.Row="0" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="1" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="2" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="3" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="4" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="5" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="6" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="7" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="8" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="9" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="10" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="11" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="12" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="13" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="14" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="15" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="16" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="17" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="18" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="19" Grid.Column="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                            </Grid>
                        </GroupBox>
                        <GroupBox Header="停车效率（㎡/车）-按图面车位数" FontSize="14" Margin="5">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition x:Name="rowTemp01" Height="Auto"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                </Grid.RowDefinitions>
                                <TextBlock  VerticalAlignment="Bottom"  Margin="2,8,2,2" Text="P - 毛车地比（㎡/车）" FontSize="12" Grid.Row="0" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P1 - 含设备及主楼车地比"  FontSize="12"  Grid.Row="1"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P2 - 含设备车地比" FontSize="12"  Grid.Row="2"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P3 - 仅含主楼车地比" FontSize="12"  TextWrapping="Wrap"  Grid.Row="3"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P4 - 净车地比" FontSize="12"  Grid.Row="4"  Grid.Column="0"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="0"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="1"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P1,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="2"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P2,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="3"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P3,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="4"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P4,Source={x:Static local:GlobalData.Instance}}"/>
                                <!--<Rectangle Grid.Row="0" Grid.ColumnSpan="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="1" Grid.ColumnSpan="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="2" Grid.ColumnSpan="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="3" Grid.ColumnSpan="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="4" Grid.ColumnSpan="2"  Stroke="Black" Height="1" VerticalAlignment="Bottom"/>-->
                            </Grid>
                        </GroupBox>
                        <GroupBox Header="停车效率（㎡/车）-按应配车位数" FontSize="14" Margin="5">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="6*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                    <RowDefinition Height="{Binding Path=Height, ElementName=rowTemp01}"/>
                                </Grid.RowDefinitions>
                                <TextBlock  VerticalAlignment="Bottom" Margin="2,8,2,2" Text="P - 毛车地比" FontSize="12" Grid.Row="0" Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P1 - 含设备及主楼车地比"  FontSize="12"  Grid.Row="1"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P2 - 含设备车地比" FontSize="12"  Grid.Row="2"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P3 - 仅含主楼车地比" FontSize="12"  TextWrapping="Wrap"  Grid.Row="3"  Grid.Column="0"/>
                                <TextBlock  VerticalAlignment="Bottom" Margin="{Binding Path=Margin, ElementName=textBlockIndex01}" Text="P4 - 净车地比" FontSize="12"  Grid.Row="4"  Grid.Column="0"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="0"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=PAllocated,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="1"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P1Allocated,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="2"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P2Allocated,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="3"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P3Allocated,Source={x:Static local:GlobalData.Instance}}"/>
                                <TextBlock  TextWrapping="Wrap" Margin="2"  Grid.Row="4"  Grid.Column="1" VerticalAlignment="Bottom" Text="{Binding Path=P4Allocated,Source={x:Static local:GlobalData.Instance}}"/>
                                <!--<Rectangle Grid.Row="0" Grid.ColumnSpan="2"  Stroke="Red" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="1" Grid.ColumnSpan="2"  Stroke="Red" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="2" Grid.ColumnSpan="2"  Stroke="Red" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="3" Grid.ColumnSpan="2"  Stroke="Red" Height="1" VerticalAlignment="Bottom"/>
                                <Rectangle Grid.Row="4" Grid.ColumnSpan="2"  Stroke="Red" Height="1" VerticalAlignment="Bottom"/>-->
                            </Grid>
                        </GroupBox>
                    </StackPanel>

                </ScrollViewer>
            </TabItem>
            <!--<TabItem x:Name="TabItem4" Header="场地设计">
                <ScrollViewer>
                    <StackPanel>
                        <StackPanel HorizontalAlignment="Left">
                            <Button Content="体积碰撞" Margin="3"/>

                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>-->
            <TabItem x:Name="TabItem0" Header="Test">
                <ScrollViewer>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Grid.Row="0" Margin="10">
                            <Button x:Name="tmep" Content="道路生长" Margin="2" Click="Road2Growth_Click"    HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="tmep01" Content="测试01" Margin="2" Click="temp_Click"    HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="Temp02"  Content="测试02" Margin="2" Click="Temp02_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="Temp03"  Content="测试03" Margin="2" Click="Temp03_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="Temp04"  Content="测试04" Margin="2" Click="Temp04_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="Temp05"  Content="测试05" Margin="2" Click="Temp05_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="Temp06"  Content="测试06" Margin="2" Click="Temp06_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                            <Button x:Name="AutoPathfinding" Content="自动寻路" Margin="2" Click="AutoPathfinding_Click"  HorizontalAlignment="Left"  Width="{Binding Path=Width, ElementName=button8}"/>
                        </StackPanel>
                        <GroupBox Header="监视信息" Grid.Column="1" Grid.Row="0"  Margin="2">
                            <TextBox IsReadOnly="True" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" Text="{Binding strBackgroundMonitorDta,Source={x:Static local:GlobalData.Instance}}" ></TextBox>

                        </GroupBox>

                    </Grid>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <TextBlock x:Name="_textBox" TextWrapping="Wrap" Text=" "  Grid.Row="2" Background="WhiteSmoke" VerticalAlignment="Center"/>

    </Grid>

</Window>
